# Architecture components & MVVM



## Learning goals

- App Architecture
- ViewModels
- UI Layer
- MVVM architecture



## Preparation

- [MVVM in 100 Seconds](https://youtu.be/-xTqfilaYow?si=KWIuays0YUOqO3Dn)
- [ViewModels & Configuration Changes - Android Basics 2023](https://youtu.be/9sqvBydNJSg?si=Zq2EveH-FIY-VzES)
- [Intro to app architecture](https://youtu.be/AfCzIEwt_i4?si=yoMf_5ABKgzeDMEe)
- [Architecture: The UI layer - MAD Skills](https://youtu.be/p9VR8KbmzEE?si=qK33KvEHZKnw0TSy) - Hmm den her er gammel tror jeg



**(Optional) Reference**

https://developer.android.com/codelabs/basic-android-kotlin-compose-viewmodel-and-state?continue=https%3A%2F%2Fdeveloper.android.com%2Fcourses%2Fpathways%2Fandroid-basics-compose-unit-4-pathway-1%23codelab-https%3A%2F%2Fdeveloper.android.com%2Fcodelabs%2Fbasic-android-kotlin-compose-viewmodel-and-state#0



## How to save state

- [Should You Use Compose State or StateFlow in Your ViewModels?](https://www.youtube.com/watch?v=T8vApYJlW8o)
- [https://chatgpt.com/c/675ae6af-2de8-8008-a841-9b367fce5c80](https://chatgpt.com/c/675ae6af-2de8-8008-a841-9b367fce5c80)







## Exercises



### Opgave 1

Læs den følgende kode og beskriv arkitekturen i applikationen. Hvad synes i om arkitekturen? 









Add the following to your projects gradle file dependency: 

```kotlin
implementation("androidx.lifecycle:lifecycle-viewmodel-compose:2.7.0")
```



#### In these exercises styling is <u>not</u> the most imporant part. You should <u>not</u> prioritize styling 



**Court-counter**

You will be building on an already existing codebase: https://github.com/nicklasdean/court_counter_text_mirror

Your task is to build a simple but useful tool for judges in of a basketball match

<img src="assets/image-20240311123349284.png" alt="image-20240311123349284" style="zoom:50%;" />

**Higher or lower**

- Create a new application
- Your task is to implement the simple game **higher or lower**
  - The user has 3 guesses to guess the number generated by the computer
  - The computer has to help the user and tell if the number is higher or lower than the last guess
  - All game state should be controlled by a ViewModel class



```kotlin
//This could be the start of the viewmodel

class GameViewModel : ViewModel() {
    var secretNumber = generateRandomNumber();
    var numberOfGuessesLeft: Int by mutableIntStateOf(3)
    var userInput: String by mutableStateOf("");
    var messageToUser: String by mutableStateOf("");
}
```

![image-20240311122450605](assets/image-20240311122450605.png)

If you are stuck - you can get inspired from: https://github.com/nicklasdean/GuessMyNumber



**Advanced (Optional)**

- Instead of guessing a single number, the computer generates a list of numbers between 1-10.
- The user guesses one number at a time and at the end gets displayed how many was guessed correctly